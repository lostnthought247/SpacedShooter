<BaseScreen>:
    name: 'Base'

    Image:
        allow_stretch: True
        keep_ratio: False
        pos: self.pos
        size: self.size
        source: screenconfig[root.name]['bg'][0]

    BoxLayout:
        orientation: 'horizontal'
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                Label:
                    text: "      The Ship Yard"
                    size: self.size
                    font_size: 50
                    size: self.texture_size
            BoxLayout:
            BoxLayout:

            # Back to the main menu.
            Button:
                text: "Main Menu"
                on_release: root.manager.current = 'Intro'
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
            BoxLayout:
                canvas:
                    Color:
                        rgba: 0.01, 0.01, 0.01, 0.80
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Image:
                    # A picture of the selected ship.
                    allow_stretch: True
                    keep_ratio: False
                    pos: self.pos
                    size: self.size
                    source: root.skin
            BoxLayout:
                canvas:
                    Color:
                        rgba: 0, 0, 0, 0.9
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Label:
                    text: """Ship Stats:"""
                BoxLayout:
                    # The currently selected ship's stats
                    canvas:
                        Color:
                            rgba: .05, .05, .05, 0.5
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    orientation: 'vertical'
                    BoxLayout:
                        orientation: 'horizontal'
                        Label:
                            text: 'Speed: '
                        Label:
                            text: root.speed
                    BoxLayout:
                        orientation: 'horizontal'
                        Label:
                            text: 'HP: '
                        Label:
                            text: root.hp
                    BoxLayout:
                        orientation: 'horizontal'
                        Label:
                            text: 'Attack: '
                        Label:
                            text: root.attack
                    BoxLayout:
                        orientation: 'horizontal'
                        Label:
                            text: 'Ammo: '
                        Label:
                            text: root.ammo

        BoxLayout:
            orientation: 'horizontal'
            BoxLayout:
                orientation: 'vertical'
                Label:
                    background_color: 1, 1, 1, 1
                    text: ""
                    canvas:
                        Color:
                            # #263238
                            rgba: 0, 0, 0, 0

                        Rectangle:
                            size: self.size
                            pos: self.pos

                # Ship selection
                Button:
                    background_color:  .25, .25, .25, 0.8
                    text: "Speed"
                    shiptype: 'fast'
                    on_release: root.select_ship(self.shiptype)
                Button:
                    background_color: .25, .25, .25, 0.8
                    text: "Combat"
                    shiptype: 'basic'
                    on_release: root.select_ship(self.shiptype)
                Button:
                    background_color:  .25, .25, .25, 0.8
                    text: "Defense"
                    shiptype: 'tank'
                    on_release: root.select_ship(self.shiptype)

                # Start the game
                Button:
                    background_color: 0, 25, 0, 0.5
                    text: "LAUNCH MISSION"
                    on_release: root.manager.current = 'Combat'
                    on_release: root.manager.get_screen('Combat').player.load(root.ship.type)
                    on_release: root.manager.get_screen('Intro').stop_soundtrack()
